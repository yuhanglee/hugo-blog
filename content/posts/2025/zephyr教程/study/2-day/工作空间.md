---
title: zephyr教程-工作空间
subtitle:   zephyr 工作空间可以按照每个人的开发方式分为有效的三种。
date: 2025-02-05T13:53:46+08:00
slug: 1d694cd
draft: true
author:
  name:
  link:
  email:
  avatar:
description:
keywords:
license:
comment: false
weight: 0
categories:
  - zephyr
tags:
  - 教程
hiddenFromHomePage: false
hiddenFromSearch: false
hiddenFromFeed: false
hiddenFromRelated: false
summary:
resources:
toc: true
math: false
lightgallery: false
---

{{< admonition quote "quote" false >}}
zephyr 工作空间，可以分为三种： 在 zephyr 仓库内创建 app 目录开发；在 zephyrproject 同级目录创建 app 目录开发；独立目录创建 app目录开发。
{{< /admonition >}}

<!--more-->


zephyr 工作空间，可以分为三种： 在 zephyr 仓库内创建 app 目录开发；在 zephyrproject 同级目录创建 app 目录开发；独立目录创建 app目录开发。

官方教程可以参考：[Application Development — Zephyr Project Documentation](https://docs.zephyrproject.org/latest/develop/application/index.html#application-types)

|Application type|`<app>` location|
|---|---|
|[repository](https://docs.zephyrproject.org/latest/develop/application/index.html#zephyr-repo-app)|zephyr repository|
|[workspace](https://docs.zephyrproject.org/latest/develop/application/index.html#zephyr-workspace-app)|west workspace where Zephyr is installed|
|[freestanding](https://docs.zephyrproject.org/latest/develop/application/index.html#zephyr-freestanding-app)|other locations|

1.  在 zephyr 源码内创建 app 目录开发

```
zephyrproject/
├─── .west/
│    └─── config
└─── zephyr/
     ├── arch/
     ├── boards/
     ├── cmake/
     ├── samples/
     │    ├── hello_world/
     │    └── ...
     ├── tests/
     └── ...
```

Zephyr 编译示例中，就使用 `samples` 中的源码文件，并且指定某一个示例文件夹作为应用来构建工程。所以，开发者也可以将应用目录放在 `samples` 文件夹内，使用 `west build -b user_board zephyr/samples/app` 进行编译。

优点： 作为入门工程或简单工程，可以将工作重心放在 app 开发和调试中，构建工作使用官方提供的教程即可。
缺点： 在后续更新 zephyr 工程时，需要着重注意当前 app 的目录是否会受影响。


2. 在 zephyrproject 同级目录创建 app 目录开发

```
zephyrproject/
├─── .west/
│    └─── config
├─── zephyr/
├─── bootloader/
├─── modules/
├─── tools/
├─── <vendor/private-repositories>/
└─── applications/
     └── app/
```

在 zephyrproject 同级目录下，创建开发使用的 app 文件夹，将和工程相关的应用，都放在同一个 app 文件夹内。  

优点：  可以根据不同项目需要，创建多个 app 文件夹，分配给不同开发人员来使用。
缺点：  如果开发的项目使用不同版本的 zephyr 工程，则 app 就需要拷贝多份，并且不好管理。



1. 独立目录创建 app目录开发

```
<home>/
├─── zephyrproject/
│     ├─── .west/
│     │    └─── config
│     ├── zephyr/
│     ├── bootloader/
│     ├── modules/
│     └── ...
│
└─── app/
     ├── CMakeLists.txt
     ├── prj.conf
     └── src/
         └── main.c
```


在硬盘任意位置创建 app 目录，作为开发文件夹。开发文件与 zephyr 工程目录无关。

优点： 可以在本地任意工作目录下，来创建开发文件夹。  也可以将 zephyr 工程目录放在局域网的任意位置，都可以通过配置环境变量方式，来指定工程目录的位置。
缺点： app 与 zephyrproject 的关系，需要人为或者使用文件来记录，防止后期不好区分。




后续开发过程，都使用 `独立目录创建 app目录开发` 方式创建多个 app 路径作为源码存放位置。


# 独立目录创建 app目录开发


1. 克隆

`git clone https://github.com/zephyrproject-rtos/example-application my-app`

2. 编译

`west build -b stm32f103_mini my-app`



